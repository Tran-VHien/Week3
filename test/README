Dự án điều khiển LED bằng nút nhấn sử dụng thư viện OneButton
1. Giới thiệu
Dự án này minh họa cách sử dụng ESP32 (hoặc Arduino) kết hợp với thư viện OneButton để điều khiển LED bằng một nút nhấn duy nhất.
Chúng ta có thể thực hiện nhiều chức năng khác nhau dựa trên cách bấm nút (single click, double click).

2. Yêu cầu phần cứng
01 board ESP32 (hoặc Arduino Uno/Nano/MEGA).
01 LED rời (không dùng LED tích hợp).
01 điện trở 220Ω – 330Ω (dùng hạn dòng cho LED).
01 nút nhấn (button).
Dây nối Breadboard.
Sơ đồ kết nối
LED → chân GPIO4 (ESP32) + điện trở hạn dòng nối về GND.
Nút nhấn → chân GPIO35 (ESP32), nối kiểu INPUT_PULLUP:
Một chân button → GPIO35.
Chân còn lại → GND.
3. Yêu cầu phần mềm
Cài đặt PlatformIO trong Visual Studio Code.
Thêm thư viện OneButton.
4. Chức năng chính
Single Click: bật hoặc tắt LED.
Double Click: chuyển LED sang chế độ nhấp nháy (tần số 0.5 giây ON/OFF).
Nếu ở chế độ nhấp nháy, bấm double click lần nữa sẽ thoát nhấp nháy (LED OFF).
5. Nguyên lý hoạt động
Thư viện OneButton giúp nhận diện nhiều loại thao tác từ một nút nhấn: single click, double click, long press.
Trong dự án này, ta chỉ dùng:
attachClick() để bắt sự kiện single click.
attachDoubleClick() để bắt sự kiện double click.
Biến blinking được dùng để quản lý trạng thái LED có đang nhấp nháy hay không.
Trong loop(), nếu blinking = true, LED sẽ đảo trạng thái mỗi 500ms nhờ hàm millis().
